appId: com.nongtri.app
name: Basic Chat Flow - Test messaging and streaming
---
# Test basic chat functionality with streaming
# Video recording is automatic when using: maestro test --format html

- launchApp
- takeScreenshot: "01_app_launched"

# Wait for app to load - check for welcome message
- assertVisible: "Hello! I'm your AI farming assistant"
- takeScreenshot: "02_chat_screen_loaded"

# Verify Nông Trí title is visible
- assertVisible: "Nông Trí"

# Test sending a simple greeting - tap on text field using test tag
- tapOn:
    id: "text_field"
- inputText: "Hello"
- takeScreenshot: "04_message_typed"

# Send message using send button test tag
- tapOn:
    id: "send_button"
- takeScreenshot: "05_message_sent"

# Wait for AI response - wait for animation
- waitForAnimationToEnd
- takeScreenshot: "06_ai_response_received"

# Test second message - tap text field again using test tag
- tapOn:
    id: "text_field"
- inputText: "Tell me about farming"
- takeScreenshot: "07_second_message_typed"

# Send second message using test tag
- tapOn:
    id: "send_button"
- takeScreenshot: "08_second_message_sent"

# Wait for second response
- waitForAnimationToEnd
- takeScreenshot: "09_second_response"

# Take final screenshot for review
- takeScreenshot: "10_conversation_complete"