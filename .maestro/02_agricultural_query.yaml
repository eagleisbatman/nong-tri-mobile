appId: com.nongtri.app
name: Agricultural Query - Test farming questions
---
# Test agricultural queries with tool usage using test tags
# Video recording is automatic when using: maestro test --format html

- launchApp
- takeScreenshot: "01_app_launched"

# Verify chat screen loads
- assertVisible:
    id: "chat_screen"
- takeScreenshot: "02_chat_screen"

# Click on a starter agricultural question
- assertVisible:
    id: "starter_question_0"
- tapOn:
    id: "starter_question_0"
- takeScreenshot: "03_starter_question_clicked"

# Wait for AI response with agricultural content
- waitForAnimationToEnd
- assertVisible:
    id: "message_list"
- takeScreenshot: "04_agricultural_response"

# Check for follow-up questions
- extendedWaitUntil:
    visible:
      id: "follow_up_question_0"
    timeout: 5000
- takeScreenshot: "05_follow_up_questions_visible"

# Click on first follow-up question
- tapOn:
    id: "follow_up_question_0"
- takeScreenshot: "06_follow_up_clicked"

# Wait for second AI response
- waitForAnimationToEnd
- assertVisible:
    id: "message_list"
- takeScreenshot: "07_follow_up_response"

# Alternative: Test manual input for agricultural question
- tapOn:
    id: "text_field"
- inputText: "How do I protect crops from pests?"
- takeScreenshot: "08_manual_question_typed"

- tapOn:
    id: "send_button"
- takeScreenshot: "09_manual_question_sent"

# Wait for pest management response
- waitForAnimationToEnd
- assertVisible:
    id: "message_list"
- takeScreenshot: "10_pest_response"

# Take final screenshot
- takeScreenshot: "11_conversation_complete"